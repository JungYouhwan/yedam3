<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default_layout}">
<body>
	<th:block layout:fragment="Content">
		<div class="container">
			<br>
			<h4>프로젝트 조회</h4>
			<table class="table">
				<thead>
					<tr>
						<th>프로젝트ID</th>
						<th>프로젝트명</th>
						<th>프로젝트상태</th>
						<th>시작일</th>
						<th>마감일</th>
						<th>목적</th>
						<th>개요</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="prjt : ${projects}">
						<td>[[ ${prjt.prjtId}]]</td>
						<td>[[ ${prjt.prjtName}]]</td>
						<td>[[ ${prjt.prjtStat}]]</td>
						<td>[[ ${#dates.format(prjt.prjtStartDt, "yyyy-MM-dd")}]]</td>
						<td>[[ ${#dates.format(prjt.prjtDueDt, "yyyy-MM-dd")}]]</td>
						<td>[[ ${prjt.purpose}]]</td>
						<td>[[ ${prjt.smry}]]</td>
					</tr>
				</tbody>
				</th:block>
			</table>
			<div>
				<button type="button" class="btn btn-primary">수정</button>
				<button type="button" class="btn btn-primary" id="prjtDelBtn">삭제</button>
			</div>
		</div>
		
		<script>
			// 삭제버튼 : 삭제 후 리스트로 이동 
			$(function() {
				$('#prjtDelBtn').on('click', function() {

					let prjtId = $(this).data('');
					console.log(prjtId); // 값을 제대로 가져왔는지 확인

				/* 	$.ajax({
						type : 'GET',
						url : '/prjtDelete?prjtId=' + prjtId,
						dataType : 'json',
						success : function(result) {
							alert('삭제에 성공했습니다.');
						},
						error : function(error) {
							alert('삭제에 실패했습니다.');
						}
					}); */
				});
			});
		</script>
		
		</body>
	</th:block>
</html>